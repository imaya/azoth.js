/** @license azoth.js 2013 - imaya [ https://github.com/imaya/azoth.js ] The MIT License */
(function() {'use strict';var j=this;function k(d,h){var e=d.split("."),a=j;!(e[0]in a)&&a.execScript&&a.execScript("var "+e[0]);for(var g;e.length&&(g=e.shift());)!e.length&&void 0!==h?a[g]=h:a=a[g]?a[g]:a[g]={}};function l(d){if("string"===typeof d)this.source=m(d);else if(d instanceof Array)this.source=d;else throw Error("invalid arguments");}var n="Shift_JIS",p="EUC-JP",q="UTF-8";
l.prototype.b=function(d,h){function e(){if(0===f)return!0;switch(d){case n:return!(129<=a[f-1]&&159>=a[f-1]||224<=a[f-1]&&239>=a[f-1]);case p:return!(128<=a[f-1]);case q:return!0;default:throw Error("Unknown CharacterSet");}}var a=this.source,g=document.createElement("script"),i=r++,u,v=m,b=Array(a.length),f,w,c;f=c=0;for(w=a.length;f<w;f++)92===a[f]?e()?(b[c++]=92,b[c++]=92):b[c++]=a[f]:39===a[f]?(b[c++]=92,b[c++]=120,b[c++]=50,b[c++]=55):10===a[f]?(b[c++]=92,b[c++]=120,b[c++]=48,b[c++]=97):13===
a[f]?(b[c++]=92,b[c++]=120,b[c++]=48,b[c++]=100):b[c++]=a[f];a=b;u=["data:text/javascript;base64;charset=",d,",",window.btoa(String.fromCharCode.apply(null,[].concat(v("Azoth.callback_("+i+",'"),a,v("');"))))].join("");g.src=u;g.setAttribute("charset",d);document.head.appendChild(g);s.push({id:i,element:g,a:h})};var s=[],r=0;function m(d){var h,e,a=Array(d.length);h=0;for(e=d.length;h<e;++h)a[h]=d.charCodeAt(h)&255;return a};k("Azoth",l);k("Azoth.callback_",function(d,h){var e,a,g=s,i;e=0;for(a=g.length;e<a;++e)if(g[e].id===d){i=g.splice(e,1)[0];break}if(void 0===i)throw Error("unknown id");"function"===typeof i.a&&i.a(h);document.head.removeChild(i.element)});k("Azoth.prototype.decode",l.prototype.b);var t={SJIS:n,EUCJP:p,UTF8:q},x,y,z,A;if(Object.keys)x=Object.keys(t);else for(y in x=[],z=0,t)x[z++]=y;z=0;for(A=x.length;z<A;++z)y=x[z],k("Azoth.CharacterSet."+y,t[y]);}).call(this);
